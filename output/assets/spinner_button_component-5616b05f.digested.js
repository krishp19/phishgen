(()=>{"use strict";class t extends HTMLElement{#t;connectedCallback(){this.form=this.querySelector("form")||this.closest("form"),this.button.addEventListener("click",this.#e),this.addEventListener("spinner.start",(()=>this.toggleSpinner(!0))),this.addEventListener("spinner.stop",(()=>this.toggleSpinner(!1))),this.spinOnClick&&(this.form?this.form.addEventListener("submit",this.showSpinner):this.button.addEventListener("click",this.showSpinner))}disconnectedCallback(){window.clearTimeout(this.#t),this.form?this.form.removeEventListener("submit",this.showSpinner):this.button.removeEventListener("click",this.showSpinner)}get button(){return this.querySelector(".usa-button")}get isSpinning(){return this.classList.contains("spinner-button--spinner-active")}get actionMessage(){return this.querySelector(".spinner-button__action-message")}get spinOnClick(){return"false"!==this.getAttribute("spin-on-click")}get longWaitDurationMs(){return Number(this.getAttribute("long-wait-duration-ms"))}showSpinner=()=>this.toggleSpinner(!0);toggleSpinner(t){this.classList.toggle("spinner-button--spinner-active",t),this.button.classList.toggle("usa-button--active",t),t?this.button.setAttribute("aria-disabled","true"):this.button.removeAttribute("aria-disabled"),this.actionMessage&&(this.actionMessage.textContent=t?this.actionMessage.dataset.message:""),window.clearTimeout(this.#t),t&&Number.isFinite(this.longWaitDurationMs)&&(this.#t=window.setTimeout(this.#i,this.longWaitDurationMs))}#i=()=>{this.actionMessage?.classList.remove("usa-sr-only")};#e=t=>{this.isSpinning&&t.preventDefault()}}customElements.get("lg-spinner-button")||customElements.define("lg-spinner-button",t)})();
//# sourceMappingURL=spinner_button_component-5616b05f.digested.js.map